FROM python:3.9

WORKDIR /app

ARG DB_POSTGRES_NAME
ENV DB_POSTGRES_NAME ${DB_POSTGRES_NAME}

ARG DB_POSTGRES_USER
ENV DB_POSTGRES_USER ${DB_POSTGRES_USER}

ARG DB_POSTGRES_PASSWORD
ENV DB_POSTGRES_PASSWORD ${DB_POSTGRES_PASSWORD}

ARG DB_POSTGRES_HOST
ENV DB_POSTGRES_HOST ${DB_POSTGRES_HOST}

ARG DB_POSTGRES_PORT
ENV DB_POSTGRES_PORT ${DB_POSTGRES_PORT}

COPY ./django_project/requirements.txt .

RUN pip install -r requirements.txt

COPY . .

CMD ["python", "django_project/manage.py", "runserver", "0.0.0.0:8000"]
